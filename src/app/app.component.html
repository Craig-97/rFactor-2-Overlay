<div class="container__session-banner">
    {{ session?.session | sessionName:'abbreviated'}}
    /
    {{ (session?.endEventTime - session?.currentEventTime) | toMinutes }}
</div>

<div class="container__standings">
    <div class="entry" *ngFor="let entry of standings">
        <div class="entry__position">
            {{ entry.position }}
        </div>
        <div class="entry__colour" [ngStyle]="{'background-color': entry.colour}"></div>
        <div class="entry__driver">
            {{ entry.driverName | driverName:'abbreviated' }}
        </div>
        <div class="entry__gap" *ngIf="entry.bestLapTime !== -1">
            <span *ngIf="entry.position === 1">
                {{ entry.bestLapTime | toMinutes:true }}
            </span>
            <span *ngIf="entry.position > 1">
                +{{ entry.gapToLeader }}
            </span>
        </div>
        <div class="entry__pit" *ngIf="entry.pitting">
            PIT
        </div>
    </div>
</div>

<div class="container__driver" *ngIf="focusedEntry != null">
    <div class="main">
        <div class="driver__position">
            {{ focusedEntry.position }}
        </div>
    
        <div class="driver__info">
            <div class="info__details">
                <p class="details__name">{{ focusedEntry.driverName | driverName:'full'}}</p>
                <p class="details__team">{{ focusedEntry.carClass }}</p>
    
                <div class="details__flag">
                    <img src="https://i.imgur.com/E9TT8to.png">
                </div>
            </div>
            <div class="info__sectors">
                <div class="sectors__row">
                    <div class="sector sector--first">
                        <span class="sector__number">S1</span>
                        <span class="sector__time">{{ focusedEntry.currentSectorTime1 | toMinutes:true }}</span>
                    </div>
                    <div class="sector sector--second">
                        <span class="sector__number">S2</span>
                        <span class="sector__time">{{ focusedEntry.currentSectorTime2 | toMinutes:true }}</span>
                    </div>
                    <div class="sector sector--third">
                        <span class="sector__number">S3</span>
                        <span class="sector__time">NA</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="secondary">
        <div class="data-key">Best</div>
        <div class="data-value">{{ focusedEntry.bestLapTime | toMinutes:true }}</div>
        <div class="data-key">Gap</div>
        <div class="data-value" [ngSwitch]="focusedEntry.sectorEvent">
            <span *ngSwitchCase="null">-</span>
            <span *ngSwitchDefault>
                {{ sectorEvent.gap > 0 ? '+' : '' }}{{ sectorEvent.gap }}
            </span>
        </div>
        <div class="data-key">Current</div>
        <div class="data-value">NA</div>
    </div>
</div>

<!-- Testing -->
<div style="position: absolute; right: 40px; top: 40px; background-color: white; font-size: 14px;">
    {{ overallBestLap | json }}
    <br>
</div>